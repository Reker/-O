#include <iostream>
#include <cstdlib>
#include <time.h>
#include <vector>;
#include "GameEvent.h"

using namespace std;

int main()
{
    srand(static_cast<unsigned int>(time(0)));
    int lives = 3;
    int money = 100;
    int coordinate_y = 0;
    int coordinate_x = 0;
    string direction;
    int arrayChooser = 0;
    
    std::vector<GameEvent> events;

    // Initial events vector
    events.push_back(GameEvent("You find 100 gold", 100, 0));
    events.push_back(GameEvent("You get 1 life", 0, 1));
    events.push_back(GameEvent("You find 80 gold but lost 3 lives", 80, -3));
 

    //string events[2] {"You find 100 gold", "You get 1 life"};


    cout << "Welcome to Dinky Island\n" << endl;
    cout << "\nYou find yourself stranded in the middle of an island, you see a sign that says 'DINKY ISLAND'" << endl;
    cout << "\nWhere do you wish to go? (north, west, south, east)" << endl;

    while (lives >= 0)
    {
        cin >> direction;

        arrayChooser = rand() % events.size();
        
        if (direction == "north")
        {
            cout << "You went north." << endl;
            coordinate_y++;
            cout << events[arrayChooser].getDescription() << endl;
            lives += events[arrayChooser].getHealthIncr();
            money += events[arrayChooser].getMonethIncr();       
        }
        else if (direction == "west")
        {
            cout << "You went west." << endl;
            coordinate_x--;

        }
        else if (direction == "south")
        {
            cout << "You went south." << endl;
            coordinate_y--;

        }
        else if (direction == "east")
        {
            cout << "You went east." << endl;
            coordinate_x++;

        }
        else
        {
            // User has provided an unknown direction, scold them!
        }
    }




    return 0;
}
